YUI.add("aui-toolbar",function(e,t){var n=e.Lang,r=n.isArray,i=n.isString,s=n.isFunction,o="boundingBox",u="btn",a="button",f="checkbox",l="children",c="click",h="createDocumentFragment",p="enclosingWidgetInitialized",d="focus",v="group",m="id",g="mousemove",y="normal",b="radio",w="rendered",E="toolbar",S="toolbarRenderer",x="vertical",T=".",N="",C=" ",k=e.getClassName,L=k(u),A=k(u,v),O=k(u,v,f),M=k(u,v,b),_=k(u,v,x);e.Toolbar=e.Component.create({NAME:E,ATTRS:{children:{validator:r},toolbarRenderer:{valueFn:function(){return new e.ToolbarRenderer}}},UI_ATTRS:[l],prototype:{CONTENT_TEMPLATE:null,TEMPLATES:{button:'<button class="aui-btn">{content}</button>',icon:'<i class="{cssClass}"></i>',group:'<div class="aui-btn-group {cssClass}"></div>'},bindUI:function(){var e=this,t=e.get(o);t.delegate([c,g,d],e._onUserInitInteraction,T+L,e)},add:function(t,n){var r=this,i=r.get(o),s=r.get(S);i.insert(s.render(e.Array(t)),n)},clear:function(){var e=this,t=e.get(o);t.get(l).remove()},getEnclosingWidget:function(t){return e.instanceOf(t,e.EventFacade)&&(t=t.domEvent?t.domEvent.target:t.target),e.Widget.getByNode(t)},isSupportedType:function(t){return e.instanceOf(t,e.Button)||e.instanceOf(t,e.ToggleButton)||e.instanceOf(t,e.ButtonGroup)},item:function(e){var t=this,n=t.get(o).get(l).item(e),r;return t._initEnclosingWidgetIfNeeded(n),r=t.getEnclosingWidget(n),t.isSupportedType(r)?r:n},remove:function(e){var t=this,n=t.get(o);return n.get(l).item(e).remove()},_onUserInitInteraction:function(e){var t=this,n=e.currentTarget;t._initEnclosingWidgetIfNeeded(n)},_initEnclosingWidgetIfNeeded:function(t){var n=this;if(!t||t.getData(p))return;t.setData(p,!0);var r=e.Widget.getByNode(t),i=e.instanceOf(r,e.Button),s=e.instanceOf(r,e.ButtonGroup);if(i||s)return;var o=t.ancestor(T+L,!0);o&&(e.Button.hasWidgetLazyConstructorData(t)?(new e.Button(e.Button.getWidgetLazyConstructorFromNodeData(t)),e.Button.setWidgetLazyConstructorNodeData(t,null)):t.plug(e.Plugin.Button));var u=t.ancestor(T+A,!0);if(u){var a;u.hasClass(O)?a=f:u.hasClass(M)&&(a=b),a&&new e.ButtonGroup({boundingBox:u,type:a,render:!0})}},_uiSetChildren:function(e){var t=this;if(!e)return;t.clear(),t.add(e)}}});var D=function(){};D.prototype={TEMPLATES:{button:e.Button.prototype.TEMPLATE,group:'<div class="'+A+' {cssClass}"></div>',icon:'<i class="{cssClass}" />'},RENDERER:{button:function(t){var r=this,i=t.value,s,u;if(e.instanceOf(i,e.Button))return i.get(o);u=e.one(i.boundingBox||i.srcNode),u||(u=e.Node.create(r.TEMPLATES.button)),s=[L,i.cssClass],i.primary&&s.push(e.ButtonCore.CLASS_NAMES.PRIMARY),u.addClass(s.join(C)),i.id&&u.setAttribute(m,i.id),i.label&&u.append(i.label);if(i.icon){var a=n.sub(r.TEMPLATES.icon,{cssClass:i.icon});e.Button.syncIconUI(u,a,i.iconAlign)}return e.Button.setWidgetLazyConstructorNodeData(u,i),u},group:function(t){var r=this,i=t.value,s=t.groupType,u=t.orientation,a=[];if(e.instanceOf(i,e.ButtonGroup))return i.get(o);s===f?a.push(O):s===b&&a.push(M),u===x&&a.push(_);var l=e.Node.create(n.sub(r.TEMPLATES.group,{cssClass:a.join(C)}));return e.Array.each(i,function(t,n){var s=r.renderNode(t);l.appendChild(s),e.Button.setWidgetLazyConstructorNodeData(s,i[n])}),l}},render:function(t){var n=this;if(!t)return;var r=e.one(e.config.doc).invoke(h);return e.Array.each(t,function(e){r.appendChild(n.renderNode(e))}),r},renderNode:function(e){var t=this,n=t._getChildRenderHints(e),r=t.RENDERER[n.renderer];if(s(r))return r.call(t,n)},_getChildRenderHints:function(t){var n=this,s=null,o=y,u;return e.instanceOf(t,e.Button)?u=a:e.instanceOf(t,e.ButtonGroup)?u=v:r(t)?(u=v,s=i(t[0])?t.shift():null,o=i(t[0])?t.shift():y):u=a,{groupType:s,orientation:o,renderer:u,value:t}}},e.ToolbarRenderer=D},"2.0.0pr5",{requires:["arraylist","arraylist-add","aui-component","aui-button-core"]});
